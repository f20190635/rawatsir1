!function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var i=[],n=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw r}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=function(){function i(t){e(this,i),this.mAttr="data-"+t.dataName,this.mCaptureEvents=["mouseenter","mouseleave"],this.el=t.el}return n(i,[{key:"mInit",value:function(t){var e=this;this.modules=t,this.mCheckEventTarget=this.mCheckEventTarget.bind(this),this.events&&Object.keys(this.events).forEach((function(t){return e.mAddEvent(t)}))}},{key:"mUpdate",value:function(t){this.modules=t}},{key:"mDestroy",value:function(){var t=this;this.events&&Object.keys(this.events).forEach((function(e){return t.mRemoveEvent(e)}))}},{key:"mAddEvent",value:function(t){var e=!!this.mCaptureEvents.includes(t);this.el.addEventListener(t,this.mCheckEventTarget,e)}},{key:"mRemoveEvent",value:function(t){var e=!!this.mCaptureEvents.includes(t);this.el.removeEventListener(t,this.mCheckEventTarget,e)}},{key:"mCheckEventTarget",value:function(t){var e=this.events[t.type];if("string"==typeof e)this[e](t);else{var i="["+this.mAttr+"]",n=t.target;if(this.mCaptureEvents.includes(t.type))n.matches(i)&&this.mCallEventMethod(t,e,n);else for(;n&&n!==document&&(!n.matches(i)||"undefined"==this.mCallEventMethod(t,e,n));)n=n.parentNode}}},{key:"mCallEventMethod",value:function(t,e,i){var n=i.getAttribute(this.mAttr);if(e.hasOwnProperty(n)){var s=e[n];Object.defineProperty(t,"currentTarget",{value:i}),Object.defineProperty(t,"curTarget",{value:i}),this[s](t)}}},{key:"$",value:function(e,i){var n=[e.indexOf("."),e.indexOf("#"),e.indexOf("[")].filter((function(t){return-1!=t})),s=!1,r=e,a="",l=this.el;return n.length&&(s=Math.min.apply(Math,o(n)),r=e.slice(0,s),a=e.slice(s)),"object"==t(i)&&(l=i),l.querySelectorAll("["+this.mAttr+"="+r+"]"+a)}},{key:"parent",value:function(t,e){for(var i="["+this.mAttr+"="+t+"]",n=e;n&&n!==document;){if(n.matches(i))return n;n=n.parentNode}}},{key:"getData",value:function(t,e){return(e||this.el).getAttribute(this.mAttr+"-"+t)}},{key:"setData",value:function(t,e,i){return(i||this.el).setAttribute(this.mAttr+"-"+t,e)}},{key:"call",value:function(t,e,i,n){var s=this;e&&!i&&(i=e,e=!1),this.modules[i]&&(n?this.modules[i][n]&&this.modules[i][n][t](e):Object.keys(this.modules[i]).forEach((function(n){s.modules[i][n][t](e)})))}},{key:"on",value:function(t,e,i,n){var s=this;this.modules[e]&&(n?this.modules[e][n].el.addEventListener(t,(function(t){return i(t)})):Object.keys(this.modules[e]).forEach((function(n){s.modules[e][n].el.addEventListener(t,(function(t){return i(t)}))})))}},{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),i}(),l=function(){function t(i){e(this,t),this.app,this.modules=i.modules,this.currentModules={},this.activeModules={},this.newModules={},this.moduleId=0}return n(t,[{key:"init",value:function(t,e){var i=this,n=(e||document).querySelectorAll("*");t&&!this.app&&(this.app=t),this.activeModules.app={app:this.app},n.forEach((function(t){Array.from(t.attributes).forEach((function(n){if(n.name.startsWith("data-module")){var s=!1,r=n.name.split("-").splice(2),o=i.toCamel(r);if(i.modules[o]?s=!0:i.modules[i.toUpper(o)]&&(o=i.toUpper(o),s=!0),s){var a={el:t,name:o,dataName:r.join("-")},l=new i.modules[o](a),c=n.value;c||(i.moduleId++,c="m"+i.moduleId,t.setAttribute(n.name,c)),i.addActiveModule(o,c,l);var h=o+"-"+c;e?i.newModules[h]=l:i.currentModules[h]=l}}}))})),Object.entries(this.currentModules).forEach((function(t){var n=r(t,2),s=n[0],o=n[1];if(e){var a=s.split("-"),l=a.shift(),c=a.pop();i.addActiveModule(l,c,o)}else i.initModule(o)}))}},{key:"initModule",value:function(t){t.mInit(this.activeModules),t.init()}},{key:"addActiveModule",value:function(t,e,i){this.activeModules[t]?Object.assign(this.activeModules[t],s({},e,i)):this.activeModules[t]=s({},e,i)}},{key:"update",value:function(t){var e=this;this.init(this.app,t),Object.entries(this.currentModules).forEach((function(t){var i=r(t,2);i[0];i[1].mUpdate(e.activeModules)})),Object.entries(this.newModules).forEach((function(t){var i=r(t,2),n=(i[0],i[1]);e.initModule(n)})),Object.assign(this.currentModules,this.newModules)}},{key:"destroy",value:function(t){t?this.destroyScope(t):this.destroyModules()}},{key:"destroyScope",value:function(t){var e=this;t.querySelectorAll("*").forEach((function(t){Array.from(t.attributes).forEach((function(t){if(t.name.startsWith("data-module")){var i=t.value,n=t.name.split("-").splice(2),s=e.toCamel(n)+"-"+i,r=!1;e.currentModules[s]?r=!0:e.currentModules[e.toUpper(s)]&&(s=e.toUpper(s),r=!0),r&&(e.destroyModule(e.currentModules[s]),delete e.currentModules[s])}}))})),this.activeModules={},this.newModules={}}},{key:"destroyModules",value:function(){var t=this;Object.entries(this.currentModules).forEach((function(e){var i=r(e,2),n=(i[0],i[1]);t.destroyModule(n)})),this.currentModules=[]}},{key:"destroyModule",value:function(t){t.mDestroy(),t.destroy()}},{key:"toCamel",value:function(t){var e=this;return t.reduce((function(t,i){return t+e.toUpper(i)}))}},{key:"toUpper",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}]),t}();function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,i){return e&&h(t.prototype,e),i&&h(t,i),t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function y(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return function(){var e,i=f(t);if(p()){var n=f(this).constructor;e=Reflect.construct(i,arguments,n)}else e=i.apply(this,arguments);return y(this,e)}}function g(t,e,i){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw r}}return i}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){if(t){if("string"==typeof t)return k(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?k(t,e):void 0}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function S(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=b(t))){var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s,r=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){o=!0,s=t},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw s}}}}function E(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function C(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var i=[],n=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw r}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaults={name:"load",loadingClass:"is-loading",loadedClass:"is-loaded",readyClass:"is-ready",transitionsPrefix:"is-",transitionsHistory:!0,enterDelay:0,exitDelay:0,loadedDelay:0,isLoaded:!1,isEntered:!1,isUrl:!1,transitionContainer:null},Object.assign(this,this.defaults,e),this.options=e,this.namespace="modular",this.html=document.documentElement,this.href=window.location.href,this.container="data-"+this.name+"-container",this.subContainer=!1,this.prevTransition=null,this.loadAttributes=["src","srcset","style","href"],this.isInserted=!1,this.isLoading=!1,this.enterTimeout=!1,this.controller=new AbortController,this.classContainer=this.html,this.isChrome=-1!=navigator.userAgent.indexOf("Chrome"),this.init()}var e,i,n;return e=t,(i=[{key:"init",value:function(){var t=this;window.addEventListener("popstate",(function(e){return t.checkState(e)}),!1),this.html.addEventListener("click",(function(e){return t.checkClick(e)}),!1),this.loadEls(document)}},{key:"checkClick",value:function(t){if(!t.ctrlKey&&!t.metaKey)for(var e=t.target;e&&e!==document;){if(e.matches("a")&&null==e.getAttribute("download")){var i=e.getAttribute("href");i.startsWith("#")||i.startsWith("mailto:")||i.startsWith("tel:")||(t.preventDefault(),this.reset(),this.getClickOptions(e));break}e=e.parentNode}}},{key:"checkState",value:function(){this.reset(),this.getStateOptions()}},{key:"reset",value:function(){this.isLoading&&(this.controller.abort(),this.isLoading=!1,this.controller=new AbortController),window.clearTimeout(this.enterTimeout),this.isInserted&&this.removeContainer(),this.classContainer=this.html,Object.assign(this,this.defaults,this.options)}},{key:"getClickOptions",value:function(t){this.transition=t.getAttribute("data-"+this.name),this.isUrl=t.getAttribute("data-"+this.name+"-url");var e=t.getAttribute("href");"_blank"!=t.getAttribute("target")?"false"!=this.transition?this.setOptions(e,!0):window.location=e:window.open(e,"_blank")}},{key:"getStateOptions",value:function(){this.transitionsHistory?this.transition=history.state:this.transition=!1;var t=window.location.href;this.setOptions(t)}},{key:"goTo",value:function(t,e,i){this.reset(),this.transition=e,this.isUrl=i,this.setOptions(t,!0)}},{key:"setOptions",value:function(t,e){var i,n="["+this.container+"]";this.transition&&"true"!=this.transition&&(this.transitionContainer="["+this.container+'="'+this.transition+'"]',this.loadingClass=this.transitions[this.transition].loadingClass||this.loadingClass,this.loadedClass=this.transitions[this.transition].loadedClass||this.loadedClass,this.readyClass=this.transitions[this.transition].readyClass||this.readyClass,this.transitionsPrefix=this.transitions[this.transition].transitionsPrefix||this.transitionsPrefix,this.enterDelay=this.transitions[this.transition].enterDelay||this.enterDelay,this.exitDelay=this.transitions[this.transition].exitDelay||this.exitDelay,this.loadedDelay=this.transitions[this.transition].loadedDelay||this.loadedDelay,i=document.querySelector(this.transitionContainer)),i?(n=this.transitionContainer,this.oldContainer=i,this.classContainer=this.oldContainer.parentNode,this.subContainer||history.replaceState(this.transition,null,this.href),this.subContainer=!0):(this.oldContainer=document.querySelector(n),this.subContainer&&history.replaceState(this.prevTransition,null,this.href),this.subContainer=!1),this.href=t,this.parentContainer=this.oldContainer.parentNode,""===this.isUrl||null!=this.isUrl&&"false"!=this.isUrl&&0!=this.isUrl?history.pushState(this.transition,null,t):(this.oldContainer.classList.add("is-old"),this.setLoading(),this.startEnterDelay(),this.loadHref(t,n,e))}},{key:"setLoading",value:function(){this.classContainer.classList.remove(this.loadedClass,this.readyClass),this.classContainer.classList.add(this.loadingClass),this.classContainer.classList.remove(this.transitionsPrefix+this.prevTransition),this.transition&&this.classContainer.classList.add(this.transitionsPrefix+this.transition),this.subContainer||(this.prevTransition=this.transition);var t=new Event(this.namespace+"loading");window.dispatchEvent(t)}},{key:"startEnterDelay",value:function(){var t=this;this.enterTimeout=window.setTimeout((function(){t.isEntered=!0,t.isLoaded&&t.transitionContainers()}),this.enterDelay)}},{key:"loadHref",value:function(t,e,i){var n=this;this.isLoading=!0;var s=this.controller.signal;fetch(t,{signal:s}).then((function(t){return t.text()})).then((function(s){i&&history.pushState(n.transition,null,t);var r=new DOMParser;n.data=r.parseFromString(s,"text/html"),n.newContainer=n.data.querySelector(e),n.newContainer.classList.add("is-new"),n.parentNewContainer=n.newContainer.parentNode,n.hideContainer(),n.parentContainer.insertBefore(n.newContainer,n.oldContainer),n.isInserted=!0,n.setSvgs(),n.isLoaded=!0,n.isEntered&&n.transitionContainers(),n.loadEls(n.newContainer),n.isLoading=!1})).catch((function(e){window.location=t}))}},{key:"transitionContainers",value:function(){var t=this;this.setAttributes(),this.showContainer(),this.setLoaded(),setTimeout((function(){t.removeContainer(),t.setReady()}),this.exitDelay)}},{key:"setSvgs",value:function(){if(this.isChrome){var t=this.newContainer.querySelectorAll("use");t.length&&t.forEach((function(t){var e=t.getAttribute("xlink:href");if(e)t.parentNode.innerHTML='<use xlink:href="'+e+'"></use>';else{var i=t.getAttribute("href");i&&(t.parentNode.innerHTML='<use href="'+i+'"></use>')}}))}}},{key:"setAttributes",value:function(){var t,e,i=this,n=this.data.getElementsByTagName("title")[0],s=this.data.head.querySelector('meta[name="description"]'),r=document.head.querySelector('meta[name="description"]');this.subContainer?(e=this.parentNewContainer,t=document.querySelector(this.transitionContainer).parentNode):(e=this.data.querySelector("html"),t=document.querySelector("html"));var o=Object.assign({},e.dataset);n&&(document.title=n.innerHTML),r&&s&&r.setAttribute("content",s.getAttribute("content")),o&&Object.entries(o).forEach((function(e){var n=C(e,2),s=n[0],r=n[1];t.setAttribute("data-"+i.toDash(s),r)}))}},{key:"toDash",value:function(t){return t.split(/(?=[A-Z])/).join("-").toLowerCase()}},{key:"hideContainer",value:function(){this.newContainer.style.visibility="hidden",this.newContainer.style.height=0,this.newContainer.style.overflow="hidden"}},{key:"showContainer",value:function(){this.newContainer.style.visibility="",this.newContainer.style.height="",this.newContainer.style.overflow=""}},{key:"loadEls",value:function(t){var e=this,i=[];this.loadAttributes.forEach((function(n){var s="data-"+e.name+"-"+n,r=t.querySelectorAll("["+s+"]");r.length&&r.forEach((function(t){var e=t.getAttribute(s);if(t.setAttribute(n,e),"src"==n||"srcset"==n){var r=new Promise((function(e){t.onload=function(){return e(t)}}));i.push(r)}}))})),Promise.all(i).then((function(t){var i=new Event(e.namespace+"images");window.dispatchEvent(i)}))}},{key:"setLoaded",value:function(){var t=this;this.classContainer.classList.remove(this.loadingClass),setTimeout((function(){t.classContainer.classList.add(t.loadedClass)}),this.loadedDelay);var e=new Event(this.namespace+"loaded");window.dispatchEvent(e)}},{key:"removeContainer",value:function(){this.parentContainer.removeChild(this.oldContainer),this.newContainer.classList.remove("is-new"),this.isInserted=!1}},{key:"setReady",value:function(){this.classContainer.classList.add(this.readyClass);var t=new Event(this.namespace+"ready");window.dispatchEvent(t)}},{key:"on",value:function(t,e){var i=this;window.addEventListener(this.namespace+t,(function(){switch(t){case"loading":return e(i.transition,i.oldContainer);case"loaded":return e(i.transition,i.oldContainer,i.newContainer);case"ready":return e(i.transition,i.newContainer);default:return e()}}),!1)}}])&&E(e.prototype,i),n&&E(e,n),t}(),L=document.documentElement,M=(L.getAttribute("data-debug"),function(t){d(i,t);var e=m(i);function i(t){return c(this,i),e.call(this,t)}return u(i,[{key:"init",value:function(){var t=this;this.analyticsId=this.getData("analytics");var e=new T({enterDelay:900,loadedDelay:400});e.on("loading",(function(e,i){t.call("close",null,"Menu"),t.call("close",null,"ModalGetInTouch")})),e.on("loaded",(function(e,i,n){t.call("destroy",i,"app"),t.call("update",n,"app"),window.gtag&&null!=t.analyticsId&&gtag("config",t.analyticsId,{page_path:location.pathname,page_title:document.title})}))}}]),i}(a));function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function D(t,e,i){return e&&A(t.prototype,e),i&&A(t,i),t}function B(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function x(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach((function(e){B(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?H(t):e}function N(t,e,i){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function F(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var V={el:document,elMobile:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,smoothMobile:!1,direction:"vertical",inertia:1,class:"is-inview",scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,firefoxMultiplier:50,touchMultiplier:2},$=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O(this,t),window.scrollTo(0,0),Object.assign(this,V,e),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowMiddle=this.windowHeight/2,this.els=[],this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:this.html.offsetHeight},this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return D(t,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame((function(){t.resize(),t.resizeTick=!1})))}},{key:"resize",value:function(){}},{key:"initEvents",value:function(){var t=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach((function(e){e.addEventListener("click",t.setScrollTo,!1)}))}},{key:"setScrollTo",value:function(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute("data-".concat(this.name,"-href"))||t.currentTarget.getAttribute("href"),t.currentTarget.getAttribute("data-".concat(this.name,"-offset")))}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(t){var e=this,i=this.instance.scroll.y,n=i+this.windowHeight;this.els.forEach((function(s,r){!s||s.inView&&!t||n>=s.top&&i<s.bottom&&e.setInView(s,r),s&&s.inView&&(n<s.top||i>s.bottom)&&e.setOutOfView(s,r)})),this.els=this.els.filter((function(t,e){return null!==t})),this.hasScrollTicking=!1}},{key:"setInView",value:function(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),t.call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1)),t.repeat||t.speed||t.sticky||(!t.call||t.call&&this.hasCallEventSet)&&(this.els[e]=null)}},{key:"setOutOfView",value:function(t,e){(t.repeat||void 0!==t.speed)&&(this.els[e].inView=!1),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}},{key:"dispatchCall",value:function(t,e){this.callWay=e,this.callValue=t.call.split(",").map((function(t){return t.trim()})),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);var i=new Event(this.namespace+"call");this.el.dispatchEvent(i)}},{key:"dispatchScroll",value:function(){var t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}},{key:"setEvents",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]);var i=this.listeners[t];i.push(e),1===i.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(t,e){if(this.listeners[t]){var i=this.listeners[t],n=i.indexOf(e);n<0||(i.splice(n,1),0===i.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1))}}},{key:"checkEvent",value:function(t){var e=this,i=t.type.replace(this.namespace,""),n=this.listeners[i];n&&0!==n.length&&n.forEach((function(t){switch(i){case"scroll":return t(e.instance);case"call":return t(e.callValue,e.callWay,e.callObj);default:return t()}}))}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(t,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var t=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach((function(e){t.el.removeEventListener(t.namespace+e,t.checkEvent,!1)})),this.listeners={},this.scrollToEls.forEach((function(e){e.removeEventListener("click",t.setScrollTo,!1)}))}}]),t}(),W=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O(this,e),t=I(this,P(e).call(this,i)),window.addEventListener("scroll",t.checkScroll,!1),t}return j(e,t),D(e,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),N(P(e.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;N(P(e.prototype),"checkScroll",this).call(this),this.instance.scroll.y=window.pageYOffset,this.els.length&&(this.hasScrollTicking||(requestAnimationFrame((function(){t.detectElements()})),this.hasScrollTicking=!0))}},{key:"resize",value:function(){this.els.length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var t=this;this.els=[],this.el.querySelectorAll("[data-"+this.name+"]").forEach((function(e,i){var n=e.dataset[t.name+"Class"]||t.class,s=e.getBoundingClientRect().top+t.instance.scroll.y,r=s+e.offsetHeight,o="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,a=e.dataset[t.name+"Repeat"],l=e.dataset[t.name+"Call"];a="false"!=a&&(null!=a||t.repeat);var c=t.getRelativeOffset(o),h={el:e,id:i,class:n,top:s+c[0],bottom:r-c[1],offset:o,repeat:a,inView:!1,call:l};t.els.push(h)}))}},{key:"updateElements",value:function(){var t=this;this.els.forEach((function(e,i){var n=e.el.getBoundingClientRect().top+t.instance.scroll.y,s=n+e.el.offsetHeight,r=t.getRelativeOffset(e.offset);t.els[i].top=n+r[0],t.els[i].bottom=s-r[1]})),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var e=[0,0];if(t)for(var i=0;i<t.length;i++)"string"==typeof t[i]?t[i].includes("%")?e[i]=parseInt(t[i].replace("%","")*this.windowHeight/100):e[i]=parseInt(t[i]):e[i]=t[i];return e}},{key:"scrollTo",value:function(t,e){var i,n=e?parseInt(e):0;if("string"==typeof t){if("top"===t)i=this.html;else if("bottom"===t)i=this.html.offsetHeight-window.innerHeight;else if(!(i=document.querySelector(t)))return}else if("number"==typeof t)i=parseInt(t);else{if(!t||!t.tagName)return void console.warn("`targetOption` parameter is not valid");i=t}n="number"!=typeof i?i.getBoundingClientRect().top+n+this.instance.scroll.y:i+n,window.scrollTo({top:n,behavior:"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){N(P(e.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),e}($),z=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;function G(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var U=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,n,s=G(t),r=1;r<arguments.length;r++){for(var o in i=Object(arguments[r]))q.call(i,o)&&(s[o]=i[o]);if(z){n=z(i);for(var a=0;a<n.length;a++)Y.call(i,n[a])&&(s[n[a]]=i[n[a]])}}return s};function X(){}X.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function s(){n.off(t,s),e.apply(i,arguments)}return s._=e,this.on(t,s,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=i.length;n<s;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],s=[];if(n&&e)for(var r=0,o=n.length;r<o;r++)n[r].fn!==e&&n[r].fn._!==e&&s.push(n[r]);return s.length?i[t]=s:delete i[t],this}};var K=X,J="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Z,Q=(function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,i,n){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,n,s,r,o,a;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(n=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),a=n.reduce((function(t,e){return t+e})),r=i.reduce((function(t,e){return t+e})),o=a/n.length,s=r/i.length,Math.abs(o)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(J)}(Z={exports:{}},Z.exports),Z.exports),tt={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1},et=Object.prototype.toString,it=Object.prototype.hasOwnProperty;function nt(t,e){return function(){return t.apply(e,arguments)}}var st=Q.Lethargy,rt="virtualscroll",ot=dt,at=37,lt=38,ct=39,ht=40,ut=32;function dt(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)it.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==et.call(t[i])&&e.push(i);for(var n=0;n<e.length;n++){var s=e[n];t[s]=nt(t[s],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=U({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new st),this._emitter=new K,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function ft(t,e,i){return(1-i)*t+i*e}function vt(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),n=i.transform||i.webkitTransform||i.mozTransform,s=n.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[13]):(s=n.match(/^matrix\((.+)\)$/),e.x=s?parseFloat(s[1].split(", ")[4]):0,e.y=s?parseFloat(s[1].split(", ")[5]):0,e)}}function pt(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}dt.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(rt,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},dt.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var i=this._event;i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,tt.isFirefox&&1==t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,this._notify(t)}},dt.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},dt.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},dt.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,n=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(n.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(n.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=n.pageX,this.touchStartY=n.pageY,this._notify(t)},dt.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case at:case lt:e.deltaY=this.options.keyStep;break;case ct:case ht:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=i;break;case ut:e.deltaY=-i;break;default:return}this._notify(t)},dt.prototype._bind=function(){tt.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),tt.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),tt.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),tt.hasPointer&&tt.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),tt.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},dt.prototype._unbind=function(){tt.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),tt.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),tt.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),tt.hasPointer&&tt.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),tt.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},dt.prototype.on=function(t,e){this._emitter.on(rt,t,e);var i=this._emitter.e;i&&i[rt]&&1===i[rt].length&&this._bind()},dt.prototype.off=function(t,e){this._emitter.off(rt,t,e);var i=this._emitter.e;(!i[rt]||i[rt].length<=0)&&this._unbind()},dt.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},dt.prototype.destroy=function(){this._emitter.off(),this._unbind()};var yt="function"==typeof Float32Array;function mt(t,e){return 1-3*e+3*t}function gt(t,e){return 3*e-6*t}function wt(t){return 3*t}function bt(t,e,i){return((mt(e,i)*t+gt(e,i))*t+wt(e))*t}function kt(t,e,i){return 3*mt(e,i)*t*t+2*gt(e,i)*t+wt(e)}function St(t){return t}var Et=function(t,e,i,n){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&i===n)return St;for(var s=yt?new Float32Array(11):new Array(11),r=0;r<11;++r)s[r]=bt(.1*r,t,i);function o(e){for(var n=0,r=1;10!==r&&s[r]<=e;++r)n+=.1;--r;var o=n+.1*((e-s[r])/(s[r+1]-s[r])),a=kt(o,t,i);return a>=.001?function(t,e,i,n){for(var s=0;s<4;++s){var r=kt(e,i,n);if(0===r)return e;e-=(bt(e,i,n)-t)/r}return e}(e,o,t,i):0===a?o:function(t,e,i,n,s){var r,o,a=0;do{(r=bt(o=e+(i-e)/2,n,s)-t)>0?i=o:e=o}while(Math.abs(r)>1e-7&&++a<10);return o}(e,n,n+.1,t,i)}return function(t){return 0===t?0:1===t?1:bt(o(t),e,n)}},Ct=38,Tt=40,Lt=32,Mt=9,Ot=33,At=34,Dt=36,Bt=35,xt=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O(this,e),(t=I(this,P(e).call(this,i))).inertia=.1*t.inertia,t.isScrolling=!1,t.isDraggingScrollbar=!1,t.isTicking=!1,t.hasScrollTicking=!1,t.parallaxElements=[],t.stop=!1,t.checkKey=t.checkKey.bind(H(t)),window.addEventListener("keydown",t.checkKey,!1),t}return j(e,t),D(e,[{key:"init",value:function(){var t=this;this.html.classList.add(this.smoothClass),this.instance=_({delta:{x:0,y:0}},this.instance),this.vs=new ot({el:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on((function(e){t.stop||(t.isTicking||t.isDraggingScrollbar||(requestAnimationFrame((function(){t.isScrolling||t.startScrolling(),t.updateDelta(e)})),t.isTicking=!0),t.isTicking=!1)})),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.detectElements(),this.transformElements(!0),this.checkScroll(!0),N(P(e.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){this.instance.limit=this.el.offsetHeight-this.windowHeight}},{key:"startScrolling",value:function(){this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var e=this;if(this.stop)t.keyCode==Mt&&requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0}));else{switch(t.keyCode){case Mt:requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0,e.scrollTo(document.activeElement,-window.innerHeight/2)}));break;case Ct:this.instance.delta.y-=240;break;case Tt:this.instance.delta.y+=240;break;case Ot:this.instance.delta.y-=window.innerHeight;break;case At:this.instance.delta.y+=window.innerHeight;break;case Dt:this.instance.delta.y-=this.instance.limit;break;case Bt:this.instance.delta.y+=this.instance.limit;break;case Lt:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(t.shiftKey?this.instance.delta.y-=window.innerHeight:this.instance.delta.y+=window.innerHeight);break;default:return}this.instance.delta.y<0&&(this.instance.delta.y=0),this.instance.delta.y>this.instance.limit&&(this.instance.delta.y=this.instance.limit),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"checkScroll",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(i||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(requestAnimationFrame((function(){return t.checkScroll()})),this.hasScrollTicking=!0);var n=Math.abs(this.instance.delta.y-this.instance.scroll.y);!this.animatingScroll&&(n<.5&&0!=this.instance.delta.y||n<.5&&0==this.instance.delta.y)&&this.stopScrolling(),this.updateScroll();for(var s=this.sections.length-1;s>=0;s--)this.sections[s].persistent||this.instance.scroll.y>this.sections[s].offset&&this.instance.scroll.y<this.sections[s].limit?(this.transform(this.sections[s].el,0,-this.instance.scroll.y),this.sections[s].inView||(this.sections[s].inView=!0,this.sections[s].el.style.opacity=1,this.sections[s].el.style.pointerEvents="all",this.sections[s].el.setAttribute("data-".concat(this.name,"-section-inview"),""))):(this.sections[s].inView&&(this.sections[s].inView=!1,this.sections[s].el.style.opacity=0,this.sections[s].el.style.pointerEvents="none",this.sections[s].el.removeAttribute("data-".concat(this.name,"-section-inview"))),this.transform(this.sections[s].el,0,0));this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.timestamp=Date.now()),this.detectElements(),this.transformElements();var r=this.instance.scroll.y/this.instance.limit*this.scrollBarLimit;this.transform(this.scrollbarThumb,0,r),N(P(e.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowMiddle=this.windowHeight/2,this.update()}},{key:"updateDelta",value:function(t){this.instance.delta.y-=t.deltaY,this.instance.delta.y<0&&(this.instance.delta.y=0),this.instance.delta.y>this.instance.limit&&(this.instance.delta.y=this.instance.limit)}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll.y=ft(this.instance.scroll.y,this.instance.delta.y,this.inertia):this.instance.scroll.y>this.instance.limit?this.setScroll(this.instance.scroll.x,this.instance.limit):this.instance.scroll.y<0?this.setScroll(this.instance.scroll.x,0):this.setScroll(this.instance.scroll.x,this.instance.delta.y)}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){this.instance.delta.y!=this.instance.scroll.y?this.instance.speed=(this.instance.delta.y-this.instance.scroll.y)/(Date.now()-this.timestamp):this.instance.speed=0}},{key:"initScrollBar",value:function(){this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),document.body.append(this.scrollbar),this.scrollbarHeight=this.scrollbar.getBoundingClientRect().height,this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit+this.scrollbarHeight),"px"),this.scrollBarLimit=this.scrollbarHeight-this.scrollbarThumb.getBoundingClientRect().height,this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar)}},{key:"reinitScrollBar",value:function(){this.scrollbarHeight=this.scrollbar.getBoundingClientRect().height,this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit+this.scrollbarHeight),"px"),this.scrollBarLimit=this.scrollbarHeight-this.scrollbarThumb.getBoundingClientRect().height}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(t){var e=this;!this.isTicking&&this.isDraggingScrollbar&&(requestAnimationFrame((function(){var i=100*t.clientY/e.scrollbarHeight*e.instance.limit/100;i>0&&i<e.instance.limit&&(e.instance.delta.y=i)})),this.isTicking=!0),this.isTicking=!1}},{key:"addElements",value:function(){var t=this;this.els=[],this.parallaxElements=[],this.sections.forEach((function(e,i){t.sections[i].el.querySelectorAll("[data-".concat(t.name,"]")).forEach((function(e,n){var s,r,o=e.dataset[t.name+"Class"]||t.class,a=e.dataset[t.name+"Repeat"],l=e.dataset[t.name+"Call"],c=e.dataset[t.name+"Position"],h=e.dataset[t.name+"Delay"],u=e.dataset[t.name+"Direction"],d="string"==typeof e.dataset[t.name+"Sticky"],f=!!e.dataset[t.name+"Speed"]&&parseFloat(e.dataset[t.name+"Speed"])/10,v="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,p=e.dataset[t.name+"Target"];r=void 0!==p?document.querySelector("".concat(p)):e;var y=(s=t.sections[i].inView?r.getBoundingClientRect().top+t.instance.scroll.y-vt(r).y:r.getBoundingClientRect().top-vt(t.sections[i].el).y-vt(r).y)+r.offsetHeight,m=(y-s)/2+s;if(d){var g=e.getBoundingClientRect().top-s;m=((y=(s+=window.innerHeight)+r.offsetHeight-window.innerHeight-e.offsetHeight-g)-s)/2+s}a="false"!=a&&(null!=a||t.repeat);var w=[0,0];if(v)for(var b=0;b<v.length;b++)"string"==typeof v[b]?v[b].includes("%")?w[b]=parseInt(v[b].replace("%","")*t.windowHeight/100):w[b]=parseInt(v[b]):w[b]=v[b];var k={el:e,id:n,class:o,top:s+w[0],middle:m,bottom:y-w[1],offset:v,repeat:a,inView:!1,call:l,speed:f,delay:h,position:c,target:r,direction:u,sticky:d};t.els.push(k),(!1!==f||d)&&t.parallaxElements.push(k)}))}))}},{key:"addSections",value:function(){var t=this;this.sections=[];var e=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===e.length&&(e=[this.el]),e.forEach((function(e,i){var n=e.getBoundingClientRect().top-1.5*window.innerHeight-vt(e).y,s=n+e.getBoundingClientRect().height+2*window.innerHeight,r={el:e,offset:n,limit:s,inView:!1,persistent:"string"==typeof e.dataset[t.name+"Persistent"]};t.sections[i]=r}))}},{key:"transform",value:function(t,e,i,n){var s;if(n){var r=vt(t),o=ft(r.x,e,n),a=ft(r.y,i,n);s="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(o,",").concat(a,",0,1)")}else s="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(i,",0,1)");t.style.webkitTransform=s,t.style.msTransform=s,t.style.transform=s}},{key:"transformElements",value:function(t){var e=this,i=this.instance.scroll.y+this.windowHeight,n=this.instance.scroll.y+this.windowMiddle;this.parallaxElements.forEach((function(s,r){var o=!1;if(t&&(o=0),s.inView)switch(s.position){case"top":o=e.instance.scroll.y*-s.speed;break;case"elementTop":o=(i-s.top)*-s.speed;break;case"bottom":o=(e.instance.limit-i+e.windowHeight)*s.speed;break;default:o=(n-s.middle)*-s.speed}s.sticky&&(o=s.inView?e.instance.scroll.y-s.top+window.innerHeight:e.instance.scroll.y<s.top-window.innerHeight&&e.instance.scroll.y<s.top-window.innerHeight/2?0:e.instance.scroll.y>s.bottom&&e.instance.scroll.y>s.bottom+100&&s.bottom-s.top+window.innerHeight),!1!==o&&("horizontal"===s.direction?e.transform(s.el,o,0,!t&&s.delay):e.transform(s.el,0,o,!t&&s.delay))}))}},{key:"scrollTo",value:function(t,e){var i,n=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[.25,0,.35,1],o=e?parseInt(e):0;if(r=Et.apply(void 0,F(r)),"string"==typeof t){if("top"===t)i=0;else if("bottom"===t)i=this.instance.limit;else if(!(i=document.querySelector(t)))return}else if("number"==typeof t)i=parseInt(t);else{if(!t||!t.tagName)return void console.warn("`targetOption` parameter is not valid");i=t}if("number"!=typeof i){var a=pt(i).includes(this.el);if(!a)return;var l=i.getBoundingClientRect(),c=l.top,h=pt(i),u=h.find((function(t){return n.sections.find((function(e){return e.el==t}))})),d=0;u&&(d=vt(u).y),o=c+o-d}else o=i+o;var f=parseFloat(this.instance.delta.y),v=Math.max(0,Math.min(o,this.instance.limit)),p=v-f,y=function(t){n.instance.delta.y=f+p*t};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var m=Date.now(),g=function t(){var e=(Date.now()-m)/s;e>1?(y(1),n.animatingScroll=!1):(n.scrollToRaf=requestAnimationFrame(t),y(r(e)))};g()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,e){this.instance=_({},this.instance,{scroll:{x:t,y:e},delta:{x:t,y:e},speed:0})}},{key:"destroy",value:function(){N(P(e.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),e}($),_t=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O(this,t),this.options=e,Object.assign(this,V,e),this.init()}return D(t,[{key:"init",value:function(){if(this.smoothMobile||(this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),!0!==this.smooth||this.isMobile?this.scroll=new W(this.options):this.scroll=new xt(this.options),this.scroll.init(),window.location.hash){var t=window.location.hash.slice(1,window.location.hash.length),e=document.getElementById(t);e&&this.scroll.scrollTo(e)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(t,e,i,n){this.scroll.scrollTo(t,e,i,n)}},{key:"setScroll",value:function(t,e){this.scroll.setScroll(t,e)}},{key:"on",value:function(t,e){this.scroll.setEvents(t,e)}},{key:"off",value:function(t,e){this.scroll.unsetEvents(t,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),t}(),jt=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),n=e.call(this,t),window.scrollObj={scroll:{y:0,x:0},limit:0},n}return u(i,[{key:"init",value:function(){var t=this;window.scrollTo(0,0),setTimeout((function(){window.scrollTo(0,0),t.scroll=new _t({el:t.el,smooth:!0,getDirection:!0}),window.scroll=t.scroll,t.scroll.on("call",(function(e,i,n,s){t.call(e[0],{way:i,obj:n},e[1],e[2])})),t.scroll.on("scroll",(function(t){window.scrollObj=t,t.scroll.y>50?L.classList.add("has-scrolled"):L.classList.remove("has-scrolled"),"down"==t.direction?L.classList.add("is-scrolling-down"):L.classList.remove("is-scrolling-down"),t.scroll.y>t.limit-50?L.classList.add("is-scrolling-end"):L.classList.remove("is-scrolling-end"),t.scroll.y<=0&&L.classList.remove("is-scrolling-down")})),requestAnimationFrame((function(){requestAnimationFrame((function(){window.scrollTo(0,0)}))}))}),400)}},{key:"toggleLazy",value:function(t){var e=this.getData("lazy",t.obj.el);e.length&&("IMG"==t.obj.el.tagName?t.obj.el.src=e:t.obj.el.style.backgroundImage="url(".concat(e,")"),this.setData("lazy","",t.obj.el))}},{key:"update",value:function(){this.scroll&&this.scroll.update&&this.scroll.update()}},{key:"destroy",value:function(){this.scroll.destroy(),L.classList.remove("has-scrolled"),L.classList.remove("is-scrolling-end"),L.classList.remove("is-scrolling-down")}}]),i}(a),Pt=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).carousel=n.$("carousel")[0],n.carousel||(n.carousel=n.el),n.arrowNext=n.$("next")[0],n.arrowPrev=n.$("prev")[0],n}return u(i,[{key:"init",value:function(){this.length=this.$("item").length;var t={speed:600,loop:!0,spaceBetween:10,grabCursor:!0,slidesPerView:1,loopedSlides:2,parallax:!0,navigation:{nextEl:this.arrowNext,prevEl:this.arrowPrev},breakpoints:{700:{spaceBetween:20}}};this.length>1&&(this.carousel=new Swiper(this.carousel,t))}},{key:"destroy",value:function(){this.carousel&&this.carousel.destroy&&this.carousel.destroy(!0,!0)}}]),i}(a),Rt=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).carousel=n.$("carousel")[0],n.carousel||(n.carousel=n.el),n.arrowNext=n.$("next")[0],n.arrowPrev=n.$("prev")[0],n}return u(i,[{key:"init",value:function(){this.length=this.$("item").length;var t={speed:600,loop:!0,spaceBetween:10,grabCursor:!0,slidesPerView:1,loopedSlides:4,threshold:3,navigation:{nextEl:this.arrowNext,prevEl:this.arrowPrev},breakpoints:{700:{slidesPerView:2,spaceBetween:20}}};this.length>1&&(this.carousel=new Swiper(this.carousel,t))}},{key:"destroy",value:function(){this.carousel&&this.carousel.destroy&&this.carousel.destroy(!0,!0)}}]),i}(a),Ht=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).carousel=n.$("carousel")[0],n.carousel||(n.carousel=n.el),n.scrollbar=n.$("scrollbar")[0],n}return u(i,[{key:"init",value:function(){this.length=this.$("item").length;var t={speed:600,loop:!1,spaceBetween:10,grabCursor:!0,slidesPerView:1,scrollbar:{el:this.scrollbar,draggable:!0},breakpoints:{700:{slidesPerView:2,spaceBetween:20}}};this.length>1&&(this.carousel=new Swiper(this.carousel,t))}},{key:"destroy",value:function(){this.carousel&&this.carousel.destroy&&this.carousel.destroy(!0,!0)}}]),i}(a),It=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).carousel=n.$("carousel")[0],n.carousel||(n.carousel=n.el),n.arrowNext=n.$("next")[0],n.arrowPrev=n.$("prev")[0],n}return u(i,[{key:"init",value:function(){this.length=this.$("item").length;var t={speed:900,loop:!0,spaceBetween:20,grabCursor:!0,slidesPerView:1,loopedSlides:3,parallax:!0,initialSlide:this.getData("first-index"),navigation:{nextEl:this.arrowNext,prevEl:this.arrowPrev}};this.length>1&&(this.carousel=new Swiper(this.carousel,t))}},{key:"destroy",value:function(){this.carousel&&this.carousel.destroy&&this.carousel.destroy(!0,!0)}}]),i}(a),Nt=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).carousel=n.$("carousel")[0],n.carousel||(n.carousel=n.el),n}return u(i,[{key:"init",value:function(){var t=this;this.length=this.$("item").length;this.length>1&&(this.carousel=new Swiper(this.carousel,{speed:300,loop:!1,slidesPerView:1,effect:"fade",allowTouchMove:!1,preventClicksPropagation:!1,preventClicks:!1,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0,renderBullet:function(t,e){return'<span class="'+e+'">'+(t+1)+"</span>"}}}),this.carousel.on("slideChange",(function(){t.call("goTo",t.carousel.activeIndex,"CarouselVisualizerModel")})))}},{key:"destroy",value:function(){this.carousel&&this.carousel.destroy&&this.carousel.destroy(!0,!0)}}]),i}(a),Ft=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).carousel=n.$("carousel")[0],n.carousel||(n.carousel=n.el),n.scrollbar=n.$("scrollbar")[0],n}return u(i,[{key:"init",value:function(){this.length=this.$("item").length;this.length>1&&(this.carousel=new Swiper(this.carousel,{speed:300,loop:!1,allowTouchMove:!1,slidesPerView:1}))}},{key:"goTo",value:function(t){this.carousel.slideTo(t)}},{key:"destroy",value:function(){this.carousel&&this.carousel.destroy&&this.carousel.destroy(!0,!0)}}]),i}(a),Vt=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).carousel=n.$("carousel")[0],n.carousel||(n.carousel=n.el),n.arrowNext=n.$("next")[0],n.arrowPrev=n.$("prev")[0],n}return u(i,[{key:"init",value:function(){this.length=this.$("item").length;var t={speed:600,loop:!1,spaceBetween:0,grabCursor:!0,slidesPerView:1,navigation:{nextEl:this.arrowNext,prevEl:this.arrowPrev},breakpoints:{700:{slidesPerView:2}}};this.length>1&&(this.carousel=new Swiper(this.carousel,t))}},{key:"destroy",value:function(){this.carousel&&this.carousel.destroy&&this.carousel.destroy(!0,!0)}}]),i}(a),$t=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).events={input:{pilot:"update"}},n}return u(i,[{key:"init",value:function(){this.initVisualizer()}},{key:"initVisualizer",value:function(){this.NB_COLS=parseInt(this.getData("columns")),this.NB_ROWS=parseInt(this.getData("rows")),this.NB_FRAMES=this.NB_COLS*this.NB_ROWS,this.FRAME_WIDTH=100/(this.NB_COLS-1),this.FRAME_HEIGHT=100/(this.NB_ROWS-1||1),this.getFrameValues(),gsap.set(this.$("image")[0],{backgroundSize:"".concat(100*this.NB_COLS,"% ").concat(100*this.NB_ROWS,"%")}),this.goToFrame(Math.round(this.NB_FRAMES/2))}},{key:"getFrameValues",value:function(){this.frames=[];for(var t=0;t<this.NB_FRAMES;t++){var e=t%this.NB_COLS,i=Math.floor(t/this.NB_COLS),n={column:e,row:i,x:e*this.FRAME_WIDTH+"%",y:i*this.FRAME_HEIGHT+"%"};this.frames.push(n)}}},{key:"goToFrame",value:function(t){gsap.set(this.$("image")[0],{backgroundPosition:"".concat(this.frames[t].x," ").concat(this.frames[t].y)})}},{key:"update",value:function(t){var e=parseInt(Math.round(t.curTarget.value*(this.NB_FRAMES-1)/100));this.goToFrame(e)}}]),i}(a),Wt=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).events={click:{toggler:"videoClick"}},n}return u(i,[{key:"init",value:function(){}},{key:"videoClick",value:function(t){t.preventDefault();var e=t.curTarget,i=this.getData("id",e),n=this.getData("host",e);this.call("openVideo",{id:i,host:n},"VideoModal")}}]),i}(a),zt=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).events={click:{close:"close"}},n.inner=n.$("inner")[0],n}return u(i,[{key:"openVideo",value:function(t){var e=this;this.emptyTimeout&&clearTimeout(this.emptyTimeout),this.appendDelay=setTimeout((function(){switch(t.host){case"youtube":e.inner.innerHTML='<iframe src="https://www.youtube.com/embed/'.concat(t.id,'?&autoplay=1" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>');break;case"vimeo":e.inner.innerHTML='<iframe src="https://player.vimeo.com/video/'.concat(t.id,'?autoplay=1&loop=1&autopause=0" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>');break;default:console.log("default")}}),500),this.el.classList.add("is-active")}},{key:"close",value:function(){var t=this;clearTimeout(this.appendDelay),this.el.classList.remove("is-active"),this.emptyTimeout=setTimeout((function(){t.inner.innerHTML=""}),250)}}]),i}(a),qt="resize",Yt=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).delay=window.firstHit&&n.getData("delay-first-hit")?2:n.getData("delay")||0,n.hasLaunch=!1,n}return u(i,[{key:"init",value:function(){var t=this;setTimeout((function(){t.initSplit(),t.resizeBind=t.handleResize.bind(t),window.addEventListener(qt,t.resizeBind)}),250)}},{key:"initSplit",value:function(){this.splitLines=new SplitText(this.el,{type:"lines, words"}),this.hasLaunch||TweenMax.set(this.el,{opacity:0})}},{key:"revertSplit",value:function(){this.splitLines&&this.splitLines.revert&&this.splitLines.revert()}},{key:"handleResize",value:function(){this.splitLines&&(this.revertSplit(),this.initSplit())}},{key:"launch",value:function(){var t=this;this.hasLaunch||(this.hasLaunch=!0,this.master=new TimelineMax({delay:this.delay}),this.master.set(this.el,{opacity:1}),this.master.set(this.splitLines.lines,{overflow:"hidden"}),this.splitLines.lines.forEach((function(e,i){t.master.fromTo(e.children,.5,{opacity:0,y:100},{opacity:1,y:0,ease:Power2.easeOut},.1*i)})))}},{key:"destroy",value:function(){window.removeEventListener(qt,this.resizeBind),this.master&&this.master.kill&&this.master.kill()}}]),i}(a),Gt="resize",Ut=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).delay,window.firstHit&&n.getData("delay-first-hit")?n.delay=2:n.delay=n.getData("delay")||0,n.hasLaunch=!1,n}return u(i,[{key:"init",value:function(){var t=this;setTimeout((function(){t.initSplit(),t.resizeBind=t.handleResize.bind(t),window.addEventListener(Gt,t.resizeBind)}),250)}},{key:"initSplit",value:function(){this.splitChars=new SplitText(this.el,{type:"lines, chars"}),this.hasLaunch||TweenMax.set(this.el,{opacity:0})}},{key:"revertSplit",value:function(){this.splitChars&&this.splitChars.revert&&this.splitChars.revert()}},{key:"handleResize",value:function(){this.splitChars&&(this.revertSplit(),this.initSplit())}},{key:"launch",value:function(){var t=this;this.hasLaunch||(this.hasLaunch=!0,this.master=new TimelineMax({delay:this.delay}),this.master.set(this.el,{opacity:1}),this.master.set(this.splitChars.lines,{overflow:"hidden"}),this.splitChars.chars.forEach((function(e,i){t.master.fromTo(e,.75,{opacity:0,y:i%2?"100%":"-100%"},{opacity:1,y:"0%",ease:Power2.easeOut},0)})))}},{key:"destroy",value:function(){window.removeEventListener(Gt,this.resizeBind),this.master&&this.master.kill&&this.master.kill()}}]),i}(a);var Xt=function(){function t(e,i,n,s){c(this,t),this.el=e,this.isFixed=n,this.containerWidth=0,this.requestAnimation=null,this.scrollPosition=-1,this.translation=0,this.grabbed=!1,this.preventClick=!1,this.paused=s,this.originalVelocity=-i,this.velocity=this.originalVelocity,this.lastDelta=null,this.initializeElements(),this.initializeEvents()}return u(t,[{key:"initializeElements",value:function(){this.$railMove=this.el.querySelectorAll(".js-rail-group-container"),this.$railMoveChildren=this.el.querySelectorAll(".js-rail-item"),this.getBCR()}},{key:"initializeEvents",value:function(){var t=this;setTimeout((function(){t.update(),window.scroll.on("scroll",(function(e){return t.updateScroll(e)}))}),500)}},{key:"setContainerWidth",value:function(t){this.containerWidth=t}},{key:"getBCR",value:function(){this.railMoveBCR=this.$railMove[0].getBoundingClientRect()}},{key:"updateScroll",value:function(t){if(!document.documentElement.classList.contains("is-mobile")&&!this.isFixed){var e=Math.round(t.scroll.y)?Math.round(t.scroll.y):0,i=e-this.scrollPosition;this.scrollPosition=e,0!=i&&(this.velocity=this.originalVelocity*i)}}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){var t=this;this.paused=!1,this.requestAnimation=requestAnimationFrame((function(){return t.update()}))}},{key:"update",value:function(){var t,e=this;this.grabbed||(this.translation>this.railMoveBCR.width/2||this.translation<-this.railMoveBCR.width/2?this.translation=0:this.translation=this.translation+this.velocity),t=this.translation>0?-this.containerWidth+this.translation%this.containerWidth:this.translation%this.containerWidth,gsap.set(this.$railMoveChildren,{x:Math.round(t),force3D:!0}),this.paused||(this.requestAnimation=requestAnimationFrame((function(){return e.update()})))}},{key:"destroy",value:function(){cancelAnimationFrame(this.requestAnimation),gsap.set(this.$railMove,{x:0}),this.translation=0}}]),t}(),Kt=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).speed=n.el.getAttribute("data-rail-speed")||1,n.isFixed="string"==typeof n.el.getAttribute("data-fixed"),n.shuffle="string"==typeof n.el.getAttribute("data-shuffle"),n.paused="string"==typeof n.el.getAttribute("data-paused"),n.initialHTML=n.el.outerHTML,n}return u(i,[{key:"init",value:function(){this.setClasses(),this.createTrack(),this.fillScreen(),this.groupTracks(),this.duplicateGroup(),this.wrapGroups(),this.railMove=new Xt(this.el,this.speed,this.isFixed,this.paused),this.railMove.setContainerWidth(this.trackGroupBCR.width)}},{key:"setClasses",value:function(){this.el.classList.add("c-rail_wrapper"),this.children=Array.from(this.el.children);var t,e=S(this.children);try{for(e.s();!(t=e.n()).done;){var i=t.value;i.classList.add("c-rail_item"),i.classList.add("js-rail-item")}}catch(t){e.e(t)}finally{e.f()}if(null!=this.shuffle){var n,s=S(function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),n=[t[i],t[e]];t[e]=n[0],t[i]=n[1]}return t}(this.children));try{for(s.s();!(n=s.n()).done;){var r=n.value;this.el.appendChild(r)}}catch(t){s.e(t)}finally{s.f()}}}},{key:"createTrack",value:function(){this.track=document.createElement("div"),this.track.classList.add("c-rail_track"),this.el.appendChild(this.track),this.tracks=[],this.tracks.push(this.track);var t,e=S(this.children);try{for(e.s();!(t=e.n()).done;){var i=t.value;this.track.appendChild(i)}}catch(t){e.e(t)}finally{e.f()}}},{key:"fillScreen",value:function(){var t=window.innerWidth/this.track.getBoundingClientRect().width;if(t===1/0)throw new Error("Ratio is Infinity");for(var e=0;e<t;e++){var i=this.track.cloneNode(!0);this.tracks.push(i),this.el.appendChild(i)}}},{key:"groupTracks",value:function(){this.trackGroup=document.createElement("div"),this.trackGroup.classList.add("c-rail_track-group"),this.el.appendChild(this.trackGroup);var t,e=S(this.tracks);try{for(e.s();!(t=e.n()).done;){var i=t.value;this.trackGroup.appendChild(i)}}catch(t){e.e(t)}finally{e.f()}this.trackGroupBCR=this.trackGroup.getBoundingClientRect()}},{key:"duplicateGroup",value:function(){this.trackGroupClone=this.trackGroup.cloneNode(!0),this.el.appendChild(this.trackGroupClone)}},{key:"wrapGroups",value:function(){this.groupsWrap=document.createElement("div"),this.groupsWrap.classList.add("js-rail-group-container"),this.groupsWrap.classList.add("c-rail_group-container"),this.el.append(this.groupsWrap);for(var t=0,e=[this.trackGroup,this.trackGroupClone];t<e.length;t++){var i=e[t];this.groupsWrap.append(i)}}},{key:"destroy",value:function(){g(f(i.prototype),"destroy",this).call(this)}}]),i}(a),Jt=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).events={click:{toggler:"toggleMenu"}},n}return u(i,[{key:"init",value:function(){this.isOpen=!1}},{key:"toggleMenu",value:function(){this.isOpen?this.close():this.open()}},{key:"open",value:function(){this.isOpen=!0,this.call("open",null,"Menu")}},{key:"close",value:function(){this.isOpen=!1,this.call("close",null,"Menu")}}]),i}(a),Zt="has-nav-open",Qt=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).events={click:{buttonClose:"close"}},n}return u(i,[{key:"init",value:function(){var t=this;this.closeBind=function(e){"Escape"===e.key&&t.close()},document.addEventListener("keyup",this.closeBind)}},{key:"open",value:function(){L.classList.add(Zt)}},{key:"close",value:function(){L.classList.remove(Zt)}},{key:"destroy",value:function(){document.removeEventListener("keyup",this.closeBind)}}]),i}(a),te="is-open",ee=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).events={click:{button:"toggleDropdown"}},n}return u(i,[{key:"init",value:function(){}},{key:"toggleDropdown",value:function(t){var e=t.curTarget,i=this.parent("container",e);i.classList.contains(te)?i.classList.remove(te):i.classList.add(te)}}]),i}(a),ie="is-success",ne="is-loading",se="is-error",re=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).isRecaptchaEnabled=!1,n.events={submit:"submit",click:{input:"enableRecaptcha"}},n}return u(i,[{key:"enableRecaptcha",value:function(){if(window.grecaptcha&&"function"==typeof window.grecaptcha.render){if(this.isRecaptchaEnabled)return;this.isRecaptchaEnabled=!0;var t=this.$("recaptcha")[0];if(t&&!t.getAttribute("data-grecaptcha-id")){var e=grecaptcha.render(t,{sitekey:t.getAttribute("data-sitekey")});t.setAttribute("data-grecaptcha-id",e)}}}},{key:"resetRecaptcha",value:function(){null!==this.recaptchaId&&window.grecaptcha.reset()}},{key:"init",value:function(){this.confirmMessage=this.getData("confirm-message"),this.errorMessage=this.getData("error-message")}},{key:"setLoadingState",value:function(){this.el.classList.add(ne)}},{key:"setConfirmationState",value:function(t){this.clearState(),this.el.reset(),this.el.classList.add(ie),this.$("feedback")[0].innerHTML=t,this.updateScroll()}},{key:"setErrorState",value:function(t){this.clearState(),this.el.classList.add(se),this.$("feedback")[0].innerHTML=t,this.updateScroll()}},{key:"clearState",value:function(){this.el.classList.remove(ie,ne,se),this.$("feedback")[0].innerHTML="",this.updateScroll()}},{key:"updateScroll",value:function(){var t=this;requestAnimationFrame((function(){t.call("update",null,"Scroll")}))}},{key:"submit",value:function(t){var e=this;try{t.preventDefault(),this.clearState(),this.setLoadingState();var i,n=t.target,s=new FormData(n),r=!1,o={},a=S(s);try{for(a.s();!(i=a.n()).done;){var l=w(i.value,2),c=l[0],h=l[1];o[c]=h}}catch(t){a.e(t)}finally{a.f()}fetch(n.getAttribute("action"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(t){return 200!==t.status&&(r=!0),t.json()})).then((function(t){r?e.setErrorState(e.errorMessage):e.setConfirmationState(e.confirmMessage),e.resetRecaptcha()})).finally((function(){e.el.classList.remove(ne)}))}catch(t){console.error(t)}}}]),i}(a),oe=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).events={click:{close:"close"}},n}return u(i,[{key:"init",value:function(){var t=this;this.closeBind=function(e){"Escape"===e.key&&t.close()},document.addEventListener("keyup",this.closeBind)}},{key:"toggle",value:function(){L.classList.contains("has-modal-get-in-touch-open")?this.close():this.open()}},{key:"open",value:function(){var t=this;L.classList.add("has-modal-get-in-touch-open"),requestAnimationFrame((function(){t.$("container")[0].scrollTop=0}))}},{key:"close",value:function(){L.classList.remove("has-modal-get-in-touch-open")}},{key:"destroy",value:function(){document.removeEventListener("keyup",this.closeBind)}}]),i}(a),ae=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).events={click:"toggle"},n}return u(i,[{key:"init",value:function(){}},{key:"toggle",value:function(){this.call("toggle",null,"ModalGetInTouch")}}]),i}(a),le=function(t){d(i,t);var e=m(i);function i(t){return c(this,i),e.call(this,t)}return u(i,[{key:"init",value:function(){var t=this.getData("date"),e="popup".concat(""!==t?".".concat(t):t);window.localStorage.getItem(e)||(L.classList.add("has-popup"),this.alertBind=function(){L.classList.remove("has-popup"),window.localStorage.setItem(e,"dismissed")},this.$("close")[0].addEventListener("click",this.alertBind),this.$("close")[1].addEventListener("click",this.alertBind))}},{key:"destroy",value:function(){this.alertBind&&(this.$("close")[0].removeEventListener("click",this.alertBind),this.$("close")[1].removeEventListener("click",this.alertBind))}}]),i}(a),ce=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).events={click:{dot:"changeSlide",close:"closeCarousel"}},n}return u(i,[{key:"init",value:function(){var t=this;this.carousel=new Swiper(this.$("carousel")[0],{loop:!1,slidesPerView:1,spaceBetween:10,simulateTouch:!0,scrollbar:{el:this.$("scrollbar")[0],draggable:!0},breakpoints:{1e3:{simulateTouch:!1,spaceBetween:0,slidesPerView:1}}}),this.closeBind=function(e){"Escape"===e.key&&t.closeCarousel()},document.addEventListener("keyup",this.closeBind)}},{key:"changeSlide",value:function(t){var e=t.curTarget,i=Array.from(e.parentNode.children).indexOf(e);Array.from(e.parentNode.children).forEach((function(t){t.classList.remove("is-active")})),this.openCarousel(),e.classList.add("is-active"),this.carousel.slideTo(i)}},{key:"openCarousel",value:function(){this.el.classList.contains("has-carousel-features-open")||this.el.classList.add("has-carousel-features-open")}},{key:"closeCarousel",value:function(){this.$("dot").forEach((function(t){t.classList.remove("is-active")})),this.el.classList.remove("has-carousel-features-open")}},{key:"destroy",value:function(){this.carousel.destroy(!0,!0),document.removeEventListener("keyup",this.closeBind)}}]),i}(a),he=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).events={input:{pilot:"update"},click:{close:"close"}},n}return u(i,[{key:"init",value:function(){var t=this;this.closeBind=function(e){"Escape"===e.key&&t.close()},document.addEventListener("keyup",this.closeBind)}},{key:"initVisualizer",value:function(t,e){this.NB_COLS=parseInt(e),this.NB_ROWS=parseInt(t),this.NB_FRAMES=this.NB_COLS*this.NB_ROWS,this.FRAME_WIDTH=100/(this.NB_COLS-1),this.FRAME_HEIGHT=100/(this.NB_ROWS-1||1),this.getFrameValues(),gsap.set(this.$("image")[0],{backgroundSize:"".concat(100*this.NB_COLS,"% ").concat(100*this.NB_ROWS,"%")}),this.goToFrame(Math.round(this.NB_FRAMES/2))}},{key:"getFrameValues",value:function(){this.frames=[];for(var t=0;t<this.NB_FRAMES;t++){var e=t%this.NB_COLS,i=Math.floor(t/this.NB_COLS),n={column:e,row:i,x:e*this.FRAME_WIDTH+"%",y:i*this.FRAME_HEIGHT+"%"};this.frames.push(n)}}},{key:"goToFrame",value:function(t){gsap.set(this.$("image")[0],{backgroundPosition:"".concat(this.frames[t].x," ").concat(this.frames[t].y)})}},{key:"update",value:function(t){var e=parseInt(Math.round(t.curTarget.value*(this.NB_FRAMES-1)/100));this.goToFrame(e)}},{key:"open",value:function(t){var e=this;this.el.classList.add("is-active"),this.el.classList.add("is-loading"),this.$("pilot")[0].value=50;var i=t.img;if(i.length){var n=new Image;n.onload=function(){setTimeout((function(){e.$("image")[0].style.backgroundImage="url('".concat(n.src,"')"),e.initVisualizer(t.rows,t.columns),e.el.classList.remove("is-loading")}),250)},n.src=i}}},{key:"close",value:function(){this.el.classList.remove("is-active")}},{key:"destroy",value:function(){document.removeEventListener("keyup",this.closeBind)}}]),i}(a),ue=function(t){d(i,t);var e=m(i);function i(t){var n;return c(this,i),(n=e.call(this,t)).events={click:"open"},n}return u(i,[{key:"init",value:function(){}},{key:"open",value:function(){var t={img:this.getData("img"),rows:this.getData("rows"),columns:this.getData("columns")};this.call("open",t,"ModalVisualizer")}}]),i}(a),de=function(t){d(i,t);var e=m(i);function i(t){return c(this,i),e.call(this,t)}return u(i,[{key:"init",value:function(){window.localStorage.getItem("pbsc-cookie-banner")||(L.classList.add("has-cookie-banner"),this.closeBind=function(){L.classList.remove("has-cookie-banner"),window.localStorage.setItem("pbsc-cookie-banner","dismissed")},this.$("close")[0].addEventListener("click",this.closeBind))}}]),i}(a),fe=Object.freeze({__proto__:null,Load:M,Scroll:jt,Carousel:Pt,CarouselCities:Rt,CarouselArticles:Ht,CarouselBikesStations:It,CarouselVisualizer:Nt,CarouselVisualizerModel:Ft,CarouselTimeline:Vt,Visualizer:$t,VideoToggler:Wt,VideoModal:zt,SplitLines:Yt,SplitChars:Ut,Rail:Kt,MenuButton:Jt,Menu:Qt,Dropdown:ee,Form:re,ModalGetInTouch:oe,ModalGetInTouchToggler:ae,Popup:le,BikeMap:ce,ModalVisualizer:he,ModalVisualizerToggler:ue,CookieBanner:de}),ve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var pe=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var e,i;e=ve,i=function(){function t(t,e,i){if(i){var n=document.createDocumentFragment(),s=!e.hasAttribute("viewBox")&&i.getAttribute("viewBox");s&&e.setAttribute("viewBox",s);for(var r=i.cloneNode(!0);r.childNodes.length;)n.appendChild(r.firstChild);t.appendChild(n)}}function e(e){e.onreadystatechange=function(){if(4===e.readyState){var i=e._cachedDocument;i||((i=e._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=e.responseText,e._cachedTarget={}),e._embeds.splice(0).map((function(n){var s=e._cachedTarget[n.id];s||(s=e._cachedTarget[n.id]=i.getElementById(n.id)),t(n.parent,n.svg,s)}))}},e.onreadystatechange()}function i(t){for(var e=t;"svg"!==e.nodeName.toLowerCase()&&(e=e.parentNode););return e}return function(n){var s,r=Object(n),o=window.top!==window.self;s="polyfill"in r?r.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&o;var a={},l=window.requestAnimationFrame||setTimeout,c=document.getElementsByTagName("use"),h=0;s&&function n(){for(var o=0;o<c.length;){var u=c[o],d=u.parentNode,f=i(d),v=u.getAttribute("xlink:href")||u.getAttribute("href");if(!v&&r.attributeName&&(v=u.getAttribute(r.attributeName)),f&&v){if(s)if(!r.validate||r.validate(v,f,u)){d.removeChild(u);var p=v.split("#"),y=p.shift(),m=p.join("#");if(y.length){var g=a[y];g||((g=a[y]=new XMLHttpRequest).open("GET.html",y),g.send(),g._embeds=[]),g._embeds.push({parent:d,svg:f,id:m}),e(g)}else t(d,f,document.getElementById(m))}else++o,++h}else++o}(!c.length||c.length-h>0)&&l(n,67)}()}},t.exports?t.exports=i():e.svg4everybody=i()}));var ye=new l({modules:fe});function me(){history.scrollRestoration&&(history.scrollRestoration="manual"),ye.init(ye),pe(),setTimeout((function(){L.classList.add("has-intro-start")}),100),setTimeout((function(){L.classList.add("has-intro-end")}),1800),setTimeout((function(){window.firstHit=!1,L.classList.add("is-first-load"),L.classList.add("is-loaded"),L.classList.remove("is-loading")}),2100)}window.onload=function(t){var e=document.getElementById("stylesheet");window.firstHit=!0;var i=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;window.isMobile=i,window.isMobile&&L.classList.add("is-mobile");var n=bowser.getParser(window.navigator.userAgent).getBrowser();"Internet Explorer"===n.name?L.classList.add("is-ie"):"Firefox"===n.name?L.classList.add("is-firefox"):"Safari"===n.name&&L.classList.add("is-safari"),e.isLoaded?me():e.addEventListener("load",(function(t){me()}))}}();